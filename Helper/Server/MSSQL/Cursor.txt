курсор - это обычный массив, но есть одно самое важное правило, что в текущий момент времени вы 
видите ТОЛЬКО один элемент

@DECLARE @NAME varchar(100), @Price int


 - это зафиксированный результат селекта

 DECLARE myCursor CURSOR
	FOR
		SELECT productName, unitPrice
		FROM products
		ORDER BY unitPrice DESC
-- это объявление курсора(выше) сразу же не будет выполнять, а только
--курсор был объявлен, чтобы начать работу, его необъодимо открыть

OPEN myCursor
--в этот момент выполняется select и данные из селекта сохоаняются на сервере
--каждый раз при открытии выполняется селект, т.е. обновляет данные

--FETCH FIRST | LAST | NEXT | PREVIOUS
-- перемещает курсор(можно перемещать абсолютно или относительно, указуя номер строки)

WHILE @@FETCH_STATUS = 0 -- до тех пор, пока вы не уперлись в конец - 0, крутится цикл
	BEGIN
		
		--> сдесь должны быть полезная нагрузка
		
		--запись данных в переменную
		FETCH NEXT FROM myCursor INTO @NAME, @Price
	END

--@@FETCH_STATUS - показует статус предыдущего fetch

CLOSE  myCursor
--закрывает курсор, его также можно открыть(закрыть) снова, до тех пор, пока не удалить

--удаляет курсор		
DEALLOCATE myCursor